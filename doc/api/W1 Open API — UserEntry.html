<html><head><title>W1 Open API — UserEntry</title><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">.lst-kix_l7dmp4snoh6h-0>li:before{content:"\0025cf  "}.lst-kix_l7dmp4snoh6h-2>li:before{content:"\0025a0  "}.lst-kix_l7dmp4snoh6h-3>li:before{content:"\0025cf  "}.lst-kix_l7dmp4snoh6h-4>li:before{content:"\0025cb  "}.lst-kix_l7dmp4snoh6h-5>li:before{content:"\0025a0  "}.lst-kix_l7dmp4snoh6h-1>li:before{content:"\0025cb  "}ul.lst-kix_4hc2l4acdkl4-2{list-style-type:none}ul.lst-kix_4hc2l4acdkl4-1{list-style-type:none}ul.lst-kix_4hc2l4acdkl4-4{list-style-type:none}ul.lst-kix_4hc2l4acdkl4-3{list-style-type:none}.lst-kix_j2gquq7irwqu-7>li:before{content:"\0025cb  "}ul.lst-kix_4hc2l4acdkl4-0{list-style-type:none}.lst-kix_j2gquq7irwqu-8>li:before{content:"\0025a0  "}ul.lst-kix_l7dmp4snoh6h-1{list-style-type:none}ul.lst-kix_j2gquq7irwqu-8{list-style-type:none}ul.lst-kix_l7dmp4snoh6h-2{list-style-type:none}ul.lst-kix_l7dmp4snoh6h-0{list-style-type:none}ul.lst-kix_j2gquq7irwqu-0{list-style-type:none}.lst-kix_4hc2l4acdkl4-3>li:before{content:"\0025cf  "}ul.lst-kix_j2gquq7irwqu-1{list-style-type:none}ul.lst-kix_j2gquq7irwqu-2{list-style-type:none}ul.lst-kix_j2gquq7irwqu-3{list-style-type:none}ul.lst-kix_j2gquq7irwqu-4{list-style-type:none}.lst-kix_4hc2l4acdkl4-1>li:before{content:"\0025cb  "}.lst-kix_4hc2l4acdkl4-2>li:before{content:"\0025a0  "}ul.lst-kix_j2gquq7irwqu-5{list-style-type:none}ul.lst-kix_j2gquq7irwqu-6{list-style-type:none}ul.lst-kix_j2gquq7irwqu-7{list-style-type:none}.lst-kix_4hc2l4acdkl4-0>li:before{content:"\0025cf  "}ul.lst-kix_4hc2l4acdkl4-6{list-style-type:none}ul.lst-kix_4hc2l4acdkl4-5{list-style-type:none}ul.lst-kix_4hc2l4acdkl4-8{list-style-type:none}.lst-kix_j2gquq7irwqu-6>li:before{content:"\0025cf  "}ul.lst-kix_4hc2l4acdkl4-7{list-style-type:none}.lst-kix_j2gquq7irwqu-5>li:before{content:"\0025a0  "}.lst-kix_j2gquq7irwqu-3>li:before{content:"\0025cf  "}.lst-kix_j2gquq7irwqu-4>li:before{content:"\0025cb  "}.lst-kix_j2gquq7irwqu-1>li:before{content:"\0025cb  "}.lst-kix_j2gquq7irwqu-2>li:before{content:"\0025a0  "}.lst-kix_l7dmp4snoh6h-7>li:before{content:"\0025cb  "}.lst-kix_l7dmp4snoh6h-8>li:before{content:"\0025a0  "}.lst-kix_4hc2l4acdkl4-4>li:before{content:"\0025cb  "}ul.lst-kix_l7dmp4snoh6h-7{list-style-type:none}ul.lst-kix_l7dmp4snoh6h-8{list-style-type:none}ul.lst-kix_l7dmp4snoh6h-5{list-style-type:none}.lst-kix_l7dmp4snoh6h-6>li:before{content:"\0025cf  "}ul.lst-kix_l7dmp4snoh6h-6{list-style-type:none}.lst-kix_4hc2l4acdkl4-5>li:before{content:"\0025a0  "}ul.lst-kix_l7dmp4snoh6h-3{list-style-type:none}.lst-kix_j2gquq7irwqu-0>li:before{content:"\0025cf  "}ul.lst-kix_l7dmp4snoh6h-4{list-style-type:none}.lst-kix_4hc2l4acdkl4-7>li:before{content:"\0025cb  "}.lst-kix_4hc2l4acdkl4-6>li:before{content:"\0025cf  "}.lst-kix_4hc2l4acdkl4-8>li:before{content:"\0025a0  "}ol{margin:0;padding:0}.c23{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:468pt;border-top-color:#000000;border-bottom-style:solid}.c20{color:#000000;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c15{color:#000000;text-decoration:none;vertical-align:baseline;font-size:12pt;font-family:"Courier New";font-style:normal}.c4{color:#000000;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Courier New";font-style:normal}.c13{font-size:12pt;font-family:"Arial";color:#1155cc;text-decoration:underline}.c31{orphans:2;widows:2;direction:ltr;height:11pt}.c33{margin-left:18pt;orphans:2;widows:2;direction:ltr}.c25{text-decoration:none;vertical-align:baseline;font-size:11pt;font-style:normal}.c24{padding-top:24pt;padding-bottom:6pt;page-break-after:avoid}.c0{text-align:justify;direction:ltr;height:11pt}.c10{padding-top:0pt;padding-bottom:0pt;line-height:1.15}.c18{border-collapse:collapse;margin-right:auto}.c28{padding-top:0pt;padding-bottom:0pt;line-height:1.0}.c32{text-align:center;direction:ltr}.c29{font-size:36pt;font-family:"Arial"}.c2{text-align:justify;direction:ltr}.c14{font-size:12pt;color:#484848}.c7{margin-left:36pt;padding-left:0pt}.c34{font-size:12pt;font-family:"Courier New"}.c17{text-align:left;direction:ltr}.c11{margin-left:72pt;padding-left:0pt}.c6{color:inherit;text-decoration:inherit}.c12{padding:0;margin:0}.c1{background-color:#ffffff;font-family:"Courier New"}.c26{font-size:18pt;font-family:"Arial"}.c16{max-width:468pt;padding:72pt 72pt 72pt 72pt}.c36{font-family:"Courier New"}.c9{font-weight:normal}.c27{color:#484848}.c35{direction:ltr}.c5{background-color:#ffffff}.c21{margin-right:-46.5pt}.c3{font-weight:bold}.c22{height:0pt}.c8{color:#38761d}.c30{font-style:italic}.c19{margin-left:36pt}.title{padding-top:0pt;color:#000000;font-size:21pt;padding-bottom:0pt;font-family:"Trebuchet MS";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:13pt;padding-bottom:10pt;font-family:"Trebuchet MS";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:10pt;color:#000000;font-size:16pt;padding-bottom:0pt;font-family:"Trebuchet MS";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:10pt;color:#000000;font-weight:bold;font-size:13pt;padding-bottom:0pt;font-family:"Trebuchet MS";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:8pt;color:#666666;font-weight:bold;font-size:12pt;padding-bottom:0pt;font-family:"Trebuchet MS";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:8pt;color:#666666;text-decoration:underline;font-size:11pt;padding-bottom:0pt;font-family:"Trebuchet MS";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:8pt;color:#666666;font-size:11pt;padding-bottom:0pt;font-family:"Trebuchet MS";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:8pt;color:#666666;font-size:11pt;padding-bottom:0pt;font-family:"Trebuchet MS";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style><style>div[style^="height: 16px; font: bold 12px/16px"],
[style="border: 1px solid rgb(51, 102, 204);"],
[style="border: 1px solid rgb(51, 102, 153);"],
[style="border: 1px solid rgb(241, 250, 248);"],
[style="border: 1px solid rgb(145, 117, 77);"],
[style="border: 1px solid rgb(0, 90, 136);"],
.ts[style="margin:0 0 12px;height:92px;width:100%"],
.nH.MC,
.c[style="margin: 0pt;"],
.GISRH3UDHB,
.GGQPGYLCMCB,
.GGQPGYLCD5,
.GC3LC41DERB + div[style="position: relative; height: 170px;"],
#tadsc,
#ad,
#center_col > #\5f Emc,
#center_col > #resultStats + #tads,
#center_col > #resultStats + #tads + #res + #tads,
#center_col > #resultStats + div + #res + #tads,
#center_col > #resultStats + div[style="border:1px solid #dedede;margin-bottom:11px;padding:5px 7px 5px 6px"],
#center_col > #taw > #tvcap > .rscontainer,
#center_col > div[style="font-size:14px;margin-right:0;min-height:5px"] > div[style="font-size:14px;margin:0 4px;padding:1px 5px;background:#fff8e7"],
#cnt #center_col > #res > #topstuff > .ts,
#main_col > #center_col div[style="font-size:14px;margin:0 4px;padding:1px 5px;background:#fff7ed"],
#mbEnd[cellspacing="0"][cellpadding="0"],
#mclip_container:last-child,
#mn #center_col > div > h2.spon:first-child,
#mn #center_col > div > h2.spon:first-child + ol:last-child,
#resultspanel > #topads,
#rhs_block > #mbEnd,
#rhs_block > .ts[cellspacing="0"][cellpadding="0"][style="padding:0"],
#rhswrapper > #rhssection[border="0"][bgcolor="#ffffff"],
#ssmiwdiv[jsdisplay],
#tads + div + .c,
#tads.c,
#tadsb.c,
#tadsto.c,
#topstuff > #tads,
.GB3L-QEDGY .GB3L-QEDF- > .GB3L-QEDE-,
.GFYY1SVD2 > .GFYY1SVC2 > .GFYY1SVF5,
.GFYY1SVE2 > .GFYY1SVD2 > .GFYY1SVG5,
.GHOFUQ5BG2 > .GHOFUQ5BF2 > .GHOFUQ5BG5,
.GJJKPX2N1 > .GJJKPX2M1 > .GJJKPX2P4,
.GKJYXHBF2 > .GKJYXHBE2 > .GKJYXHBH5,
.GPMV2XEDA2 > .GPMV2XEDP1 > .GPMV2XEDJBB,
.ch[onclick="ga(this,event)"],
.commercial-unit-desktop-rhs,
.commercial-unit-desktop-top,
.lads[width="100%"][style="background:#FFF8DD"],
.mod > ._jH + .rscontainer,
.mw > #rcnt > #center_col > #taw > #tvcap > .c,
.mw > #rcnt > #center_col > #taw > .c,
.ra[align="left"][width="30%"],
.ra[align="right"][width="30%"],
.ra[width="30%"][align="right"] + table[width="70%"][cellpadding="0"],
.rhsvw[style="background-color:#fff;margin:0 0 14px;padding-bottom:1px;padding-top:1px;"],
.rscontainer > .ellip,
#sqh,
#center_col > #tads,
[href^="http://www.google.com/aclk?"],
#header + #content > #left > #rlblock_left
{display:none !important;}</style></head><body class="c5 c16"><p class="c24 c32 title"><a name="h.qvt3k93upway"></a><span class="c3 c29">W1 Open API<br>UserEntry</span></p><p class="c33"><span class="c13"><a class="c6" href="#h.2m0kzc621ym4">Получение истории операций</a></span></p><p class="c33"><span class="c13"><a class="c6" href="#h.88nt1vymimjc">Получение файла с операциями за период</a></span></p><h1 class="c24 c2"><a name="h.2m0kzc621ym4"></a><span class="c26 c3">Получение истории операций</span></h1><p class="c0"><span></span></p><a href="#" name="f6a31a7129b633e233c13bbcc546eb1e498ed0dd"></a><a href="#" name="0"></a><table class="c18" cellpadding="0" cellspacing="0"><tbody><tr class="c22"><td class="c23" colspan="1" rowspan="1"><p class="c10 c17"><span class="c4 c3">GET /OpenApi/userentry/?</span></p><p class="c10 c17"><span class="c4 c3">pageNumber={pageNumber}&amp;itemsPerPage={itemsPerPage}</span></p><p class="c10 c17"><span class="c4 c3">&amp;fromCreateDate={fromCreateDate}&amp;toCreateDate={toCreateDate} &amp;operationType={operationType}</span></p><p class="c10 c17 c21"><span class="c4 c3">&amp;entryStatesIds={entryStatesIds}&amp;currencyId={currencyId}</span></p><p class="c10 c17"><span class="c3 c36">&amp;searchString={searchString}&amp;direction={direction}</span></p></td></tr></tbody></table><p class="c0"><span></span></p><p class="c2"><span class="c5">Необязательные параметры строки запроса:</span></p><ul class="c12 lst-kix_l7dmp4snoh6h-0 start"><li class="c2 c7"><span class="c1">pageNumber </span><span class="c5">— </span><span>номер страницы, начиная с 1</span></li><li class="c2 c7"><span class="c1">itemsPerPage </span><span class="c5">— количество элементов на странице</span></li></ul><ul class="c12 lst-kix_4hc2l4acdkl4-0 start"><li class="c2 c7"><span class="c1">fromCreateDate </span><span class="c5">— начало периода фильтрации переводов</span></li><li class="c2 c7"><span class="c1">toCreateDate </span><span class="c5">— конец периода фильтрации переводов</span></li><li class="c2 c7"><span class="c1">operationType </span><span class="c5">— фильтр по типу операции</span></li><li class="c2 c7"><span class="c1">entryStatesIds </span><span class="c5">— фильтр по состояниям выбираемых операций </span></li></ul><p class="c2 c19"><span class="c5">Можно использовать группы статусов:</span></p><ul class="c12 lst-kix_4hc2l4acdkl4-1 start"><li class="c2 c11"><span class="c5">“Waiting” - в одном из статусов “Created” или “Processing”;</span></li><li class="c2 c11"><span class="c5">“Aborted” - в одном из статусов “Canceled” или “Expired” или “Rejected”.</span></li></ul><ul class="c12 lst-kix_4hc2l4acdkl4-0"><li class="c2 c7"><span class="c1">currencyId </span><span class="c5">— фильтр по валюте </span></li><li class="c2 c7"><span class="c1">searchString </span><span class="c5">— фильтр для поиска по описанию операции, или по имени пользователя, который являлся стороной перевода</span></li><li class="c2 c7"><span class="c1">direction </span><span class="c5">— фильтр по направлению перевода:</span></li></ul><ul class="c12 lst-kix_4hc2l4acdkl4-1 start"><li class="c2 c11"><span class="c1">Inc</span><span class="c5">&nbsp;- входящий;</span></li><li class="c2 c11"><span class="c1">Out</span><span class="c5">&nbsp;- исходящий.</span></li></ul><p class="c0"><span></span></p><p class="c35"><span>Структура тела ответа:</span></p><ul class="c12 lst-kix_j2gquq7irwqu-0 start"><li class="c2 c7"><span>TotalCount – общее количество переводов, удовлетворяющих фильтрам</span></li><li class="c2 c7"><span>Items – запрошенная страница, элементы которой описывают операции (если передан параметр </span><span class="c1">itemsPerPage</span><span class="c5">, содержит не более </span><span class="c1">itemsPerPage </span><span class="c5">элементов). Элементы упорядочены по времени создания, от поздних к ранним.</span></li></ul><p class="c0"><span class="c5"></span></p><p class="c2"><span>Пример тела ответа:</span></p><a href="#" name="b701d2aeb6fcec300b62233e910d39131bfd4ec2"></a><a href="#" name="1"></a><table class="c18" cellpadding="0" cellspacing="0"><tbody><tr class="c22"><td class="c23" colspan="1" rowspan="1"><p class="c10 c2"><span class="c1">{<br> &nbsp;</span><span class="c1 c3">"TotalCount"</span><span class="c1">: 13,</span><span class="c25 c1 c9 c8">&nbsp;// общее количество операций</span></p><p class="c10 c2"><span class="c1">&nbsp; </span><span class="c1 c3">"Items"</span><span class="c4 c9 c5">: [</span></p><p class="c10 c2"><span class="c1">&nbsp; &nbsp; {<br> &nbsp; &nbsp; &nbsp;</span><span class="c1 c8">// идентификатор проводки<br></span><span class="c1">&nbsp; &nbsp; &nbsp; </span><span class="c1 c3">"EntryId"</span><span class="c1">: 10000000001,<br> &nbsp; &nbsp; &nbsp;</span><span class="c1 c8">// от кошелька<br></span><span class="c1">&nbsp; &nbsp; &nbsp; </span><span class="c1 c3">"FromUserId"</span><span class="c1">: 140722282411,<br> &nbsp; &nbsp; &nbsp;</span><span class="c25 c1 c9 c8">// название отправителя</span></p><p class="c10 c2"><span class="c1 c3">&nbsp; &nbsp; &nbsp; "FromUserTitle"</span><span class="c1">: 140722282411@w1.ru,<br> &nbsp; &nbsp; &nbsp;</span><span class="c1 c8">// кошельку<br></span><span class="c1">&nbsp; &nbsp; &nbsp; </span><span class="c1 c3">"ToUserId"</span><span class="c1">: 140722282422,<br> &nbsp; &nbsp; &nbsp;</span><span class="c1 c9 c8 c25">// название получателя</span></p><p class="c10 c2"><span class="c1 c3">&nbsp; &nbsp; &nbsp; "ToUserTitle"</span><span class="c1">: 140722282422@w1.ru,<br> &nbsp; &nbsp; &nbsp;</span><span class="c1 c8">// сумма<br></span><span class="c1">&nbsp; &nbsp; &nbsp; </span><span class="c1 c3">"Amount"</span><span class="c1">: 100,<br> &nbsp; &nbsp; &nbsp;</span><span class="c1 c8">// комиссия<br></span><span class="c1">&nbsp; &nbsp; &nbsp; </span><span class="c1 c3">"CommissionAmount"</span><span class="c1">: 0,<br> &nbsp; &nbsp; &nbsp;</span><span class="c1 c8">// валюта<br></span><span class="c1">&nbsp; &nbsp; &nbsp;</span><span class="c1 c3">&nbsp;"CurrencyId"</span><span class="c4 c9 c5">: 643,</span></p><p class="c2 c10"><span class="c1">&nbsp; &nbsp; &nbsp; </span><span class="c1 c8">// описание</span><span class="c1"><br> &nbsp; &nbsp; &nbsp;</span><span class="c1 c3">"Description"</span><span class="c4 c9 c5">: "Описание перевода",</span></p><p class="c10 c2"><span class="c1">&nbsp; &nbsp; &nbsp; </span><span class="c1 c8">// дата создания<br></span><span class="c1">&nbsp; &nbsp; &nbsp; </span><span class="c1 c3">"CreateDate"</span><span class="c1">: "2012-01-10T06:10:14.52Z",<br> &nbsp; &nbsp; &nbsp;</span><span class="c1 c8">// дата последнего изменения состояния<br></span><span class="c1">&nbsp; &nbsp; &nbsp; </span><span class="c1 c3">"UpdateDate"</span><span class="c1">: "2012-01-10T06:10:14.57Z",<br> &nbsp; &nbsp; &nbsp;</span><span class="c1 c8">// состояние операции<br></span><span class="c1">&nbsp; &nbsp; &nbsp; </span><span class="c1 c3">"EntryStateId"</span><span class="c4 c9 c5">: "Accepted",</span></p><p class="c10 c2"><span class="c1 c8">&nbsp; &nbsp; &nbsp; // тип операции отсутствует</span><span class="c1"><br> &nbsp; &nbsp; &nbsp;</span><span class="c1 c3">"OperationTypeId"</span><span class="c4 c5 c9">: "Transfer",</span></p><p class="c10 c2"><span class="c1 c8">&nbsp; &nbsp; &nbsp; // идентификатор операции</span><span class="c1"><br> &nbsp; &nbsp; &nbsp;</span><span class="c1 c3">"OperationId"</span><span class="c4 c9 c5">: 640169348011<br> &nbsp; &nbsp;},</span></p><p class="c10 c2"><span class="c4 c9 c5">&nbsp; &nbsp; ...<br> &nbsp;]<br>}</span></p></td></tr></tbody></table><p class="c31"><span></span></p><h1 class="c2 c24"><a name="h.88nt1vymimjc"></a><span class="c3 c26">Получение файла с операциями за период</span></h1><p class="c0"><span></span></p><a href="#" name="6204ac9848cc7903ccbe8c8b2071c36c8716a1cb"></a><a href="#" name="2"></a><table class="c18" cellpadding="0" cellspacing="0"><tbody><tr class="c22"><td class="c23" colspan="1" rowspan="1"><p class="c10 c17"><span class="c3 c34">POST </span><span class="c14 c1 c3">/OpenApi/userentry/report</span></p></td></tr></tbody></table><p class="c2"><span>Content-Type запроса должен быть </span><span class="c30">application/x-www-form-urlencoded</span></p><p class="c0"><span></span></p><p class="c2"><span>Пример тела запроса:</span></p><p class="c0"><span></span></p><a href="#" name="8bdcd88cae7b9aabef0cb661e356380bd84beed5"></a><a href="#" name="3"></a><table class="c18" cellpadding="0" cellspacing="0"><tbody><tr class="c22"><td class="c23" colspan="1" rowspan="1"><p class="c10 c17"><span class="c1 c3 c27">DateFrom=2014-07-10&amp;DateTo=2014-07-20&amp;CurrencyId=643&amp;ReportType=csv</span></p><p class="c0 c28"><span class="c20 c9"></span></p></td></tr></tbody></table><p class="c0"><span></span></p><p class="c2"><span class="c5">Необязательные параметры строки запроса:</span></p><ul class="c12 lst-kix_4hc2l4acdkl4-0"><li class="c2 c7"><span class="c1">currencyId </span><span class="c5">— фильтр по валюте </span></li><li class="c2 c7"><span class="c1">reportType </span><span class="c5">— формат получаемого файла, может принимать значения xml, xlsx, csv</span></li></ul><p class="c0"><span></span></p><p class="c35"><span>Структура тела ответа:</span></p><ul class="c12 lst-kix_j2gquq7irwqu-0"><li class="c2 c7"><span>EntryId – идентификатор операции</span></li><li class="c2 c7"><span>CreateDate – дата и время создания операции</span></li><li class="c2 c7"><span>UpdateDate– дата и время обновления операции</span></li><li class="c2 c7"><span>Debit– сумма списания</span></li><li class="c2 c7"><span>Credit– сумма зачисления</span></li><li class="c2 c7"><span>Commission – размер комиссии операции</span></li><li class="c2 c7"><span>CurrencyCode – валюта операции, RUB, USD ...</span></li><li class="c2 c7"><span>Balance – баланс после совершения операции</span></li><li class="c2 c7"><span>Description – описание операции</span></li></ul><p class="c0"><span class="c5"></span></p><p class="c2"><span>В ответ возвращается файл заданного типа (</span><span class="c1 c3 c14">reportType</span><span>)</span></p></body></html>